<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USA Phone Number DNC Checker</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Additional styles for better UX */
        .upload-area {
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            z-index: 10;
        }
        
        .upload-area:hover {
            background-color: #e8f4fc;
            border-color: #27ae60;
        }
        
        .upload-area.dragover {
            background-color: #d4edda;
            border-color: #27ae60;
            transform: scale(0.99);
        }
        
        .click-hint {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background-color: #3498db;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
        
        .upload-area:hover .click-hint {
            opacity: 1;
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-phone-alt"></i> USA Phone Number DNC Checker</h1>
            <p class="subtitle">Upload a file with phone numbers to check DNC status and retrieve details</p>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Upload Phone Numbers File</h3>
                    <p>Drag & drop a .txt or .csv file with phone numbers (one per line) or click to browse</p>
                    <input type="file" id="fileInput" accept=".txt,.csv">
                    <div class="file-format">
                        <p><strong>File format:</strong> One phone number per line (10 digits, no formatting)</p>
                        <p>Example: 4045093823, 4045094083, 1234567890</p>
                    </div>
                    <div class="click-hint">Click to upload</div>
                </div>
                
                <div class="options-section">
                    <div class="option">
                        <label>
                            <input type="checkbox" id="checkDNC" checked> Check DNC Status
                        </label>
                        <span class="tooltip">
                            <i class="fas fa-info-circle"></i>
                            <span class="tooltip-text">Checks National DNC (NDNC) and State DNC (SDNC) registries</span>
                        </span>
                    </div>
                    
                    <div class="option">
                        <label>
                            <input type="checkbox" id="checkDetails" checked> Retrieve Details
                        </label>
                        <span class="tooltip">
                            <i class="fas fa-info-circle"></i>
                            <span class="tooltip-text">Retrieves owner information, address, and other details</span>
                        </span>
                    </div>
                    
                    <button id="startProcess" class="btn-primary" disabled>
                        <i class="fas fa-play-circle"></i> Start Processing
                    </button>
                </div>
            </div>

            <div class="progress-section" style="display: none;" id="progressSection">
                <h3><i class="fas fa-tasks"></i> Processing Progress</h3>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                    <div class="progress-text">
                        <span id="progressText">0%</span>
                        <span id="processedCount">0 of 0 numbers processed</span>
                    </div>
                </div>
                
                <div class="current-number">
                    <h4>Currently Processing:</h4>
                    <div class="number-display" id="currentNumber">-</div>
                </div>
                
                <div class="results-preview">
                    <h4>Latest Result:</h4>
                    <div class="result-card" id="latestResult">
                        <p>No results yet. Processing will begin when you start.</p>
                    </div>
                </div>
                
                <button id="pauseProcess" class="btn-secondary">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button id="cancelProcess" class="btn-danger" style="display: none; margin-left: 10px;">
                    <i class="fas fa-stop-circle"></i> Cancel
                </button>
            </div>

            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-header">
                    <h3><i class="fas fa-list-alt"></i> Results</h3>
                    <div class="results-actions">
                        <button id="downloadCSV" class="btn-success" disabled>
                            <i class="fas fa-file-csv"></i> Download CSV
                        </button>
                        <button id="downloadJSON" class="btn-success" disabled>
                            <i class="fas fa-file-code"></i> Download JSON
                        </button>
                        <button id="clearResults" class="btn-danger">
                            <i class="fas fa-trash-alt"></i> Clear Results
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="resultsTable">
                        <thead>
                            <tr>
                                <th>Phone Number</th>
                                <th>DNC Status</th>
                                <th>NDNC</th>
                                <th>SDNC</th>
                                <th>State</th>
                                <th>Name</th>
                                <th>Address</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody">
                            <!-- Results will be populated here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="summary">
                    <h4>Summary</h4>
                    <div class="summary-stats">
                        <div class="stat">
                            <span class="stat-label">Total Numbers:</span>
                            <span class="stat-value" id="totalNumbers">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Completed:</span>
                            <span class="stat-value" id="completedNumbers">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">On DNC List:</span>
                            <span class="stat-value" id="dncCount">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">With Details:</span>
                            <span class="stat-value" id="detailsCount">0</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="instructions">
                <h3><i class="fas fa-info-circle"></i> How It Works</h3>
                <ol>
                    <li>Upload a text file with phone numbers (one per line, 10 digits, no formatting).</li>
                    <li>Select which checks you want to perform (DNC status and/or details retrieval).</li>
                    <li>Click "Start Processing" - numbers will be checked one by one to ensure accuracy.</li>
                    <li>Results will appear in the table as they are processed.</li>
                    <li>Download results in CSV or JSON format when complete.</li>
                </ol>
                <div class="note">
                    <strong>Note:</strong> Processing is intentionally slowed down to ensure each number is properly checked. 
                    There are no limits on the number of phone numbers you can check.
                </div>
            </div>
        </main>
        
        <footer>
            <p>USA Phone Number DNC Checker &copy; <span id="currentYear"></span> | 
                <a href="#" id="apiStatusLink">API Status: <span class="status-indicator" id="apiStatus">Checking...</span></a>
            </p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
